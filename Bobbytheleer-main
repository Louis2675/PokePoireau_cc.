/**
 * Bienvenue sur Leek Wars !
 * Pour connaître le fonctionnemenhttps://leekwars.com/trophy/examinert du jeu : leekwars.com/help/general
 * Pour apprendre le langage LeekScript : leekwars.com/help/tutorial et leekwars.com/encyclopedia/Tutoriel_LeekScript
 * Pour progresser en fonction de son niveau (dès le niveau 1) : leekwars.com/encyclopedia/Tutoriel_par_niveau
 * Pour se documenter sur les fonctions disponibles : leekwars.com/help/documentation
**/

// On récupère l'ennemi le plus proche
var enemy = getNearestEnemy();

var pos_enemy = getCell(enemy);
var pos_player = getCell();
var dist = getCellDistance(pos_player, pos_enemy);

// health
var Life = getTotalLife();
var life_now = getLife();
var my_leek = getEntity();


// use bandage
if(getLife() < getTotalLife()/1.25) {
	useChip(CHIP_BANDAGE, getEntity());
}

if (dist <= 7) {
	useChip(CHIP_PROTEIN, getEntity());
}

setWeapon(WEAPON_MACHINE_GUN);
useWeapon(enemy);

// Use Chip_Shock
if (dist <= 5){
	useChip(CHIP_PEBBLE, enemy);
}



useWeapon(WEAPON_MACHINE_GUN)

// On avance vers l'ennemi
moveToward(enemy);

// Move towards him
moveToward(enemy,2);
// Try to soot him
useWeapon(enemy);

// Try to shoot him!
var my_tp = getTP();
var shoot = USE_SUCCESS;
while(my_tp >= 3 and shoot != USE_INVALID_POSITION) {
shoot = useWeapon(enemy);
my_tp = getTP();
}
